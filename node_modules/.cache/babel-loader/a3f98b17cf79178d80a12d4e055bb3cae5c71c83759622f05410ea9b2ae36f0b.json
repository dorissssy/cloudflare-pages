{"ast":null,"code":"var _jsxFileName = \"/Users/yangyuxin/Documents/cloudflare/cloudflare-pages/src/Attack.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport LineChart from \"./components/LineChart\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nexport const options = {\n  responsive: true,\n  plugins: {},\n  scales: {\n    y: {\n      ticks: {\n        format: {\n          style: 'percent'\n        }\n      }\n    }\n  }\n};\nfunction Attack() {\n  _s();\n  // const Posts = () => {\n  const [attack, setAttack] = useState([]);\n  useEffect(() => {\n    const getAttack = async () => {\n      const resp = await fetch('https://project-1.yangyuxin0714.workers.dev/attack-layer3');\n      const attackResp = await resp.json();\n      // console.log(postsResp)\n\n      setAttack(attackResp);\n    };\n    getAttack();\n  }, []);\n  console.log(attack);\n  const [attackData, setAttackData] = useState({\n    labels: attack.filter(post =>\n    // post.rankingEntry[0].domain),\n    {\n      if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n        return true;\n      }\n      return false;\n    }).map(post => post[\"meta\"][\"timestamp\"]),\n    datasets: [{\n      label: \"Attack Volumn\",\n      data: attack.filter(post =>\n      // post.rankingEntry[0].domain),\n      {\n        if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n          return true;\n        }\n        return false;\n      }).map(post => post[\"data\"])\n    }]\n  });\n  useEffect(() => {\n    // const getPosts = async () => {\n    const obj = {\n      labels: attack.filter(post =>\n      // post.rankingEntry[0].domain),\n      {\n        if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n          return true;\n        }\n        return false;\n      }).map(post => post[\"meta\"][\"timestamp\"]),\n      datasets: [{\n        label: \"Attack Volumn\",\n        data: attack.filter(post =>\n        // post.rankingEntry[0].domain),\n        {\n          if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n            return true;\n          }\n          return false;\n        }).map(post => post[\"data\"])\n      }]\n    };\n    // console.log(postsResp)\n    setAttackData(obj);\n    // };\n  }, [attack]);\n  console.log(attackData);\n  const [metaData, setMetaData] = useState([1, 2, 3]);\n  useEffect(() => {\n    const obj = attack.filter(post => !post[\"meta\"].hasOwnProperty(\"timestamp\")).map(post => post[\"meta\"]);\n    setMetaData(obj);\n  }, [attack]);\n  console.log(metaData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Layer 3 DDoS Attack Volumn Over 30 Days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        options: options,\n        data: attackData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 5,\n          textAlign: 'left',\n          width: 400,\n          color: '#b2b2b2'\n        },\n        children: Object.entries(metaData).map(_ref => {\n          let [key, value] = _ref;\n          return Object.entries(value).map(_ref2 => {\n            let [k, v] = _ref2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [k.split('/')[k.split('/').length - 1], \": \", v]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 9\n            }, this);\n          });\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(Attack, \"74o0NnG8inSIRfGw939UMLAKaSA=\");\n_c = Attack;\nexport default Attack;\nvar _c;\n$RefreshReg$(_c, \"Attack\");","map":{"version":3,"names":["React","useEffect","useState","logo","LineChart","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","register","options","responsive","plugins","scales","y","ticks","format","style","Attack","attack","setAttack","getAttack","resp","fetch","attackResp","json","console","log","attackData","setAttackData","labels","filter","post","hasOwnProperty","map","datasets","label","data","obj","metaData","setMetaData","width","fontSize","textAlign","color","Object","entries","key","value","k","v","split","length"],"sources":["/Users/yangyuxin/Documents/cloudflare/cloudflare-pages/src/Attack.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport LineChart from \"./components/LineChart\";\n\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n  } from 'chart.js';\n  import { Bar } from 'react-chartjs-2';\n\n  ChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n  );\n  \n  export const options = {\n    responsive: true,\n    plugins: {\n    },\n    scales: {\n        y: {\n            ticks: {\n                format: {\n                    style: 'percent'\n                }\n            }\n        }\n    }\n  };\n\nfunction Attack() {\n  // const Posts = () => {\n    const [attack, setAttack] = useState([]);\n    \n    useEffect(() => {\n      const getAttack = async () => {\n        const resp = await fetch('https://project-1.yangyuxin0714.workers.dev/attack-layer3');\n        const attackResp = await resp.json();\n        // console.log(postsResp)\n\n        setAttack(attackResp);\n      };\n    \n      getAttack();\n    }, []);\n    console.log(attack)\n\n    const [attackData, setAttackData] = useState({\n        labels: attack.filter(post => \n          // post.rankingEntry[0].domain),\n        {\n          if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n              return true\n          }\n          return false\n        }).map(post => post[\"meta\"][\"timestamp\"]),\n        \n        datasets: [\n          {\n            label: \"Attack Volumn\",\n            data: attack.filter(post => \n              // post.rankingEntry[0].domain),\n            {\n                if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n                    return true\n                }\n                return false\n            }).map(post => post[\"data\"]),\n          }\n        ]\n  \n      })\n  \n      useEffect(() => {\n        // const getPosts = async () => {\n          const obj = {\n            labels: attack.filter(post => \n                // post.rankingEntry[0].domain),\n              {\n                if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n                    return true\n                }\n                return false\n              }).map(post => post[\"meta\"][\"timestamp\"]),\n              \n              datasets: [\n                {\n                  label: \"Attack Volumn\",\n                  data: attack.filter(post => \n                    // post.rankingEntry[0].domain),\n                  {\n                      if (post[\"meta\"].hasOwnProperty(\"timestamp\")) {\n                          return true\n                      }\n                      return false\n                  }).map(post => post[\"data\"]),\n                }\n              ]\n            \n          }\n          // console.log(postsResp)\n          setAttackData(obj);\n        // };\n      \n      }, [attack]);\n    console.log(attackData)\n\n    const [metaData, setMetaData] = useState([1,2,3])\n    useEffect(() => {\n        const obj = attack.filter(post=> !post[\"meta\"].hasOwnProperty(\"timestamp\")).map(post => post[\"meta\"])\n        setMetaData(obj)\n    }, [attack])\n    console.log(metaData)\n  return (\n    <div className=\"App\">\n      <div style={{ width: 1000 }}>\n        <h1>Layer 3 DDoS Attack Volumn Over 30 Days</h1>\n        {/* <LineChart chartData={trafficData}/> */}\n        <Bar options={options} data={attackData} />\n        <div style={{fontSize:5, textAlign:'left', width:400, color:'#b2b2b2'}}>{Object.entries(metaData).map(([key, value]) => \n         Object.entries(value).map(([k, v]) => \n        <div>{k.split('/')[k.split('/').length-1]}: {v}</div>))}</div>\n        {/* <div>{metaData.map(post => <div key={post.rankingEntry}>{post.rankingEntry[0].rank}</div>)}</div> */}\n      </div>\n    </div>\n  );\n}\n\nexport default Attack;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}