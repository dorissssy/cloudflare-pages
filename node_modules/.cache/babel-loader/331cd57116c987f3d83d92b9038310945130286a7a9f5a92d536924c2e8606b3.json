{"ast":null,"code":"var _jsxFileName = \"/Users/yangyuxin/Documents/cloudflare/cloudflare-pages/src/Domain.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport BarChart from \"./components/BarChart\";\nimport LineChart from \"./components/LineChart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Domain() {\n  _s();\n  // const Posts = () => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    const getPosts = async () => {\n      const resp = await fetch('https://project-1.yangyuxin0714.workers.dev/popular-domains');\n      const postsResp = await resp.json();\n      // console.log(postsResp)\n\n      setPosts(postsResp);\n    };\n    getPosts();\n  }, []);\n  console.log(posts);\n  const [domainColor, setDomainColor] = useState([]);\n  useEffect(() => {\n    const colors = [];\n    for (let i = 0; i < posts.length; i++) {\n      if (posts[i].rankingEntry[0].category === \"Technology\") {\n        colors.push(\"#89CFF0\");\n      } else if (posts[i].rankingEntry[0].category === \"Entertainment\") {\n        colors.push(\"#F0E68C\");\n      } else if (posts[i].rankingEntry[0].category === \"Society & Lifestyle\") {\n        colors.push(\"#F08080\");\n      } else if (posts[i].rankingEntry[0].category === \"Business & Economy\") {\n        colors.push(\"#90EE90\");\n      } else if (posts[i].rankingEntry[0].category === \"Shopping & Auctions\") {\n        colors.push(\"#FFA07A\");\n      } else if (posts[i].rankingEntry[0].category === \"Internet Communication\") {\n        colors.push(\"#FFD700\");\n      }\n    }\n    setDomainColor(colors);\n  }, [posts]);\n  const [domainData, setDomainData] = useState({\n    labels: posts.map(post => post.rankingEntry[0].domain),\n    datasets: [{\n      label: \"Ranking\",\n      data: posts.map(post => post.rankingEntry[0].rank)\n    }]\n  });\n  useEffect(() => {\n    // const getPosts = async () => {\n    const obj = {\n      labels: posts.map(post => post.rankingEntry[0].domain),\n      datasets: [{\n        label: \"Ranking\",\n        data: posts.map(post => post.rankingEntry[0].rank),\n        backgroundColor: domainColor\n      }]\n    };\n    // console.log(postsResp)\n    setDomainData(obj);\n    // };\n  }, [posts, domainColor]);\n  const [domainChangeData, setDomainChangeData] = useState({\n    labels: posts.map(post => post.rankingEntry[0].domain),\n    datasets: [{\n      label: \"Rank Change\",\n      data: posts.map(post => post.rankingEntry[0].rankChnage)\n    }]\n  });\n  useEffect(() => {\n    // const getPosts = async () => {\n    const obj = {\n      labels: posts.map(post => post.rankingEntry[0].domain),\n      datasets: [{\n        label: \"Rank Change\",\n        data: posts.map(post => post.rankingEntry[0].rankChange)\n      }]\n    };\n    // console.log(postsResp)\n    setDomainChangeData(obj);\n    // };\n  }, [posts]);\n  return (\n    /*#__PURE__*/\n    // <div>{posts.map(post => <div>{post.rankingEntry}</div>)}</div>\n    // <div>{posts.map(post => <div key={post.rankingEntry}>{post.rankingEntry[0].rank}</div>)}</div>\n    _jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 700\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Popular Domains\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n          chartData: domainData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"technology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), \" Technology\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"entertainment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), \" Entertainment\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"society\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), \" Society & Lifestyle\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"business\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), \" Business & Economy\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shopping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), \" Shopping & Auctions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"internet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), \" Internet Communication\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: 100\n          },\n          children: \"Domain Rank Change Compared To Previous 30 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n          chartData: domainChangeData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(Domain, \"gyYcSV0x1Xz1otkFflAIxWeLOoI=\");\n_c = Domain;\nexport default Domain;\nvar _c;\n$RefreshReg$(_c, \"Domain\");","map":{"version":3,"names":["React","useEffect","useState","logo","BarChart","LineChart","Domain","posts","setPosts","getPosts","resp","fetch","postsResp","json","console","log","domainColor","setDomainColor","colors","i","length","rankingEntry","category","push","domainData","setDomainData","labels","map","post","domain","datasets","label","data","rank","obj","backgroundColor","domainChangeData","setDomainChangeData","rankChnage","rankChange","width","marginTop"],"sources":["/Users/yangyuxin/Documents/cloudflare/cloudflare-pages/src/Domain.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport  BarChart  from \"./components/BarChart\";\nimport LineChart from \"./components/LineChart\";\n\n\nfunction Domain() {\n  // const Posts = () => {\n    const [posts, setPosts] = useState([]);\n    \n    useEffect(() => {\n      const getPosts = async () => {\n        const resp = await fetch('https://project-1.yangyuxin0714.workers.dev/popular-domains');\n        const postsResp = await resp.json();\n        // console.log(postsResp)\n\n        setPosts(postsResp);\n      };\n    \n      getPosts();\n    }, []);\n    console.log(posts)\n\n    const [domainColor, setDomainColor] = useState([])\n    useEffect(() => {\n      const colors = []\n      for (let i = 0; i < posts.length; i++) {\n        if (posts[i].rankingEntry[0].category === \"Technology\") {\n          colors.push(\"#89CFF0\")\n        } else if (posts[i].rankingEntry[0].category === \"Entertainment\") {\n          colors.push(\"#F0E68C\")\n        } else if (posts[i].rankingEntry[0].category === \"Society & Lifestyle\") {\n          colors.push(\"#F08080\")\n        } else if (posts[i].rankingEntry[0].category === \"Business & Economy\") {\n          colors.push(\"#90EE90\")\n        } else if (posts[i].rankingEntry[0].category === \"Shopping & Auctions\") {\n          colors.push(\"#FFA07A\")\n        } else if (posts[i].rankingEntry[0].category === \"Internet Communication\") {\n          colors.push(\"#FFD700\")\n        }\n      }\n      setDomainColor(colors)\n    }, [posts])\n\n    const [domainData, setDomainData] = useState({\n      labels: posts.map(post => post.rankingEntry[0].domain),\n      datasets: [\n        {\n          label: \"Ranking\",\n          data: posts.map(post => post.rankingEntry[0].rank)\n        }\n      ]\n\n    })\n\n    useEffect(() => {\n      // const getPosts = async () => {\n        const obj = {\n          labels: posts.map(post => post.rankingEntry[0].domain),\n          datasets: [\n            {\n              label: \"Ranking\",\n              data: posts.map(post => post.rankingEntry[0].rank),\n              backgroundColor: domainColor\n            }\n          ],\n          \n        }\n        // console.log(postsResp)\n        setDomainData(obj);\n      // };\n    \n    }, [posts, domainColor]);\n\n    const [domainChangeData, setDomainChangeData] = useState({\n      labels: posts.map(post => post.rankingEntry[0].domain),\n      datasets: [\n        {\n          label: \"Rank Change\",\n          data: posts.map(post => post.rankingEntry[0].rankChnage)\n        }\n      ]\n\n    })\n\n    useEffect(() => {\n      // const getPosts = async () => {\n        const obj = {\n          labels: posts.map(post => post.rankingEntry[0].domain),\n          datasets: [\n            {\n              label: \"Rank Change\",\n              data: posts.map(post => post.rankingEntry[0].rankChange)\n            }\n          ],\n          \n        }\n        // console.log(postsResp)\n        setDomainChangeData(obj);\n      // };\n    \n    }, [posts]);\n\n  return (\n    // <div>{posts.map(post => <div>{post.rankingEntry}</div>)}</div>\n    // <div>{posts.map(post => <div key={post.rankingEntry}>{post.rankingEntry[0].rank}</div>)}</div>\n    <div className=\"App\">\n      <div style={{ width: 700}}>\n       <h1>Popular Domains</h1>\n        <BarChart chartData={domainData}/>\n        <ul className=\"legend\">\n            <li><span className=\"technology\"></span> Technology</li>\n            <li><span className=\"entertainment\"></span> Entertainment</li>\n            <li><span className=\"society\"></span> Society & Lifestyle</li>\n            <li><span className=\"business\"></span> Business & Economy</li>\n            <li><span className=\"shopping\"></span> Shopping & Auctions</li>\n            <li><span className=\"internet\"></span> Internet Communication</li>\n        </ul>\n        <h1 style={{marginTop:100}}>Domain Rank Change Compared To Previous 30 Days</h1>\n        <BarChart chartData={domainChangeData}/>\n        \n  </div>\n    </div>\n  );\n}\n\nexport default Domain;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,YAAY;AAC7B,OAAO,WAAW;AAClB,OAAQC,QAAQ,MAAO,uBAAuB;AAC9C,OAAOC,SAAS,MAAM,wBAAwB;AAAC;AAG/C,SAASC,MAAM,GAAG;EAAA;EAChB;EACE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd,MAAMQ,QAAQ,GAAG,YAAY;MAC3B,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,6DAA6D,CAAC;MACvF,MAAMC,SAAS,GAAG,MAAMF,IAAI,CAACG,IAAI,EAAE;MACnC;;MAEAL,QAAQ,CAACI,SAAS,CAAC;IACrB,CAAC;IAEDH,QAAQ,EAAE;EACZ,CAAC,EAAE,EAAE,CAAC;EACNK,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;EAElB,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClDD,SAAS,CAAC,MAAM;IACd,MAAMiB,MAAM,GAAG,EAAE;IACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,KAAK,CAACa,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIZ,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,YAAY,EAAE;QACtDJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM,IAAIhB,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,eAAe,EAAE;QAChEJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM,IAAIhB,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,qBAAqB,EAAE;QACtEJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM,IAAIhB,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,oBAAoB,EAAE;QACrEJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM,IAAIhB,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,qBAAqB,EAAE;QACtEJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM,IAAIhB,KAAK,CAACY,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,CAAC,CAACC,QAAQ,KAAK,wBAAwB,EAAE;QACzEJ,MAAM,CAACK,IAAI,CAAC,SAAS,CAAC;MACxB;IACF;IACAN,cAAc,CAACC,MAAM,CAAC;EACxB,CAAC,EAAE,CAACX,KAAK,CAAC,CAAC;EAEX,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC;IAC3CwB,MAAM,EAAEnB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACQ,MAAM,CAAC;IACtDC,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,SAAS;MAChBC,IAAI,EAAEzB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACY,IAAI;IACnD,CAAC;EAGL,CAAC,CAAC;EAEFhC,SAAS,CAAC,MAAM;IACd;IACE,MAAMiC,GAAG,GAAG;MACVR,MAAM,EAAEnB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACQ,MAAM,CAAC;MACtDC,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE,SAAS;QAChBC,IAAI,EAAEzB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACY,IAAI,CAAC;QAClDE,eAAe,EAAEnB;MACnB,CAAC;IAGL,CAAC;IACD;IACAS,aAAa,CAACS,GAAG,CAAC;IACpB;EAEF,CAAC,EAAE,CAAC3B,KAAK,EAAES,WAAW,CAAC,CAAC;EAExB,MAAM,CAACoB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnC,QAAQ,CAAC;IACvDwB,MAAM,EAAEnB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACQ,MAAM,CAAC;IACtDC,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,aAAa;MACpBC,IAAI,EAAEzB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACiB,UAAU;IACzD,CAAC;EAGL,CAAC,CAAC;EAEFrC,SAAS,CAAC,MAAM;IACd;IACE,MAAMiC,GAAG,GAAG;MACVR,MAAM,EAAEnB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACQ,MAAM,CAAC;MACtDC,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE,aAAa;QACpBC,IAAI,EAAEzB,KAAK,CAACoB,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACP,YAAY,CAAC,CAAC,CAAC,CAACkB,UAAU;MACzD,CAAC;IAGL,CAAC;IACD;IACAF,mBAAmB,CAACH,GAAG,CAAC;IAC1B;EAEF,CAAC,EAAE,CAAC3B,KAAK,CAAC,CAAC;EAEb;IAAA;IACE;IACA;IACA;MAAK,SAAS,EAAC,KAAK;MAAA,uBAClB;QAAK,KAAK,EAAE;UAAEiC,KAAK,EAAE;QAAG,CAAE;QAAA,wBACzB;UAAA,UAAI;QAAe;UAAA;UAAA;UAAA;QAAA,QAAK,eACvB,QAAC,QAAQ;UAAC,SAAS,EAAEhB;QAAW;UAAA;UAAA;UAAA;QAAA,QAAE,eAClC;UAAI,SAAS,EAAC,QAAQ;UAAA,wBAClB;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAY;cAAA;cAAA;cAAA;YAAA,QAAQ,eAAW;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eACxD;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAe;cAAA;cAAA;cAAA;YAAA,QAAQ,kBAAc;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC9D;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAS;cAAA;cAAA;cAAA;YAAA,QAAQ,wBAAoB;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC9D;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAQ,uBAAmB;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC9D;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAQ,wBAAoB;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC/D;YAAA,wBAAI;cAAM,SAAS,EAAC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAQ,2BAAuB;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QACjE,eACL;UAAI,KAAK,EAAE;YAACiB,SAAS,EAAC;UAAG,CAAE;UAAA,UAAC;QAA+C;UAAA;UAAA;UAAA;QAAA,QAAK,eAChF,QAAC,QAAQ;UAAC,SAAS,EAAEL;QAAiB;UAAA;UAAA;UAAA;QAAA,QAAE;MAAA;QAAA;QAAA;QAAA;MAAA;IAExC;MAAA;MAAA;MAAA;IAAA;EACE;AAEV;AAAC,GAtHQ9B,MAAM;AAAA,KAANA,MAAM;AAwHf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}